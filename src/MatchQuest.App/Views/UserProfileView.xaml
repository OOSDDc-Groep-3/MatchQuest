<?xml version="1.0" encoding="utf-8" ?>
<ContentPage 
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:system="clr-namespace:System;assembly=netstandard"
    x:Class="MatchQuest.App.Views.UserProfileView"
    Title="UserProfile"
    BackgroundImageSource="background.png"
    BackgroundColor="Transparent">

    <Grid RowDefinitions="*" ColumnDefinitions="0.4*,0.8*">

        <!-- Semi-transparante overlay over de achtergrond -->
        <BoxView Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2"
                 Color="Black"
                 Opacity="0.5"
                 InputTransparent="True" />

        <!-- SIDEBAR -->
        <Border Grid.Column="0"
                Stroke="#C0ffee"
                StrokeThickness="2"
                BackgroundColor="#202022"
                Opacity="0.85">

            <Grid RowDefinitions="Auto,*,Auto" Padding="10" RowSpacing="10">
                <!-- Logo + Titel -->
                <HorizontalStackLayout Spacing="10" Grid.Row="0" Padding="10">
                    <Image Source="matchquest.png"
                           WidthRequest="180" HeightRequest="180"/>
                    <Label Text="Settings"
                           FontFamily="RubikRegular"
                           TextColor="#C0ffee"
                           FontSize="36"
                           FontAttributes="Bold"
                           VerticalOptions="Center"/>
                </HorizontalStackLayout>

                <!-- Nav buttons -->
                <VerticalStackLayout Grid.Row="1" Spacing="5" Padding="5">
                    <Button Text="MY PROFILE"
                            FontFamily="RubikRegular"
                            FontSize="28"
                            TextColor="#C0ffee"
                            FontAttributes="Bold"
                            HeightRequest="100"
                            WidthRequest="500"
                            CornerRadius="0"
                            BorderColor="#C0ffee"
                            BorderWidth="2"
                            BackgroundColor="#202022"/>

                    <Button Text="MY ACCOUNT"
                            FontFamily="RubikRegular"
                            FontSize="28"
                            TextColor="#C0ffee"
                            FontAttributes="Bold"
                            HeightRequest="100"
                            WidthRequest="500"
                            CornerRadius="0"
                            BorderColor="#C0ffee"
                            BorderWidth="2"
                            BackgroundColor="#202022"/>

                    <Button Text="ADMIN"
                            FontFamily="RubikRegular"
                            FontSize="28"
                            TextColor="#C0ffee"
                            FontAttributes="Bold"
                            HeightRequest="100"
                            WidthRequest="500"
                            CornerRadius="0"
                            BorderColor="#C0ffee"
                            BorderWidth="2"
                            BackgroundColor="#202022"/>
                </VerticalStackLayout>

                <!-- Logout button onderaan -->
                <Button Text="LOG OUT"
                        Grid.Row="2"
                        FontFamily="RubikRegular"
                        FontSize="28"
                        BackgroundColor="Red"
                        TextColor="White"
                        FontAttributes="Bold"
                        HeightRequest="80"
                        WidthRequest="500"
                        CornerRadius="0"
                        BorderColor="#C0ffee"
                        BorderWidth="2"/>
            </Grid>
        </Border>

        <!-- RECHTER GEDEELTE: User Profile Form -->
        <Border Grid.Column="1"
                Margin="0"
                Padding="40"
                Stroke="#C0ffee"
                StrokeThickness="2"
                BackgroundColor="#332A34"
                Opacity="0.85">

            <ScrollView>
                <VerticalStackLayout Spacing="25">

                    <!-- SETTINGS BUTTON -->
                    <HorizontalStackLayout HorizontalOptions="End">
                        <ImageButton Source="settings.png"
                                     BackgroundColor="#C0ffee"
                                     CornerRadius="28"
                                     WidthRequest="36"
                                     HeightRequest="36"/>
                    </HorizontalStackLayout>

                    <!-- PROFIELFOTO -->
                    <Frame HeightRequest="180" WidthRequest="180"
                           CornerRadius="90"
                           BorderColor="#C0ffee"
                           Padding="0"
                           HorizontalOptions="Center">
                        <Image Source="{Binding ProfileImageSource}" Aspect="AspectFill"/>
                    </Frame>

                    <Button Text="Upload profielfoto"
                            Command="{Binding UploadProfilePhotoCommand}"
                            FontFamily="RubikRegular"
                            BackgroundColor="#C0ffee"
                            TextColor="Black"
                            CornerRadius="12"
                            WidthRequest="200"
                            HeightRequest="50"
                            HorizontalOptions="Center"/>

                    <!-- FORMULIER VELDEN -->
                    <Label Text="name" TextColor="#C0ffee" FontFamily="RubikRegular"/>
                    <Entry 
                           Text="{Binding Name}"
                           Placeholder="Enter your name..."
                           FontFamily="RubikRegular"
                           TextColor="White"
                           PlaceholderColor="Gray"
                           BackgroundColor="#312932"/>

                    

                    <Label Text="Date of birth" TextColor="#C0ffee" FontFamily="RubikRegular"/>
                    <DatePicker 
                                Date="{Binding BirthDate}"
                                MaximumDate="{x:Static system:DateTime.Now}"
                                FontFamily="RubikRegular"
                                TextColor="White"
                                BackgroundColor="#312932"/>

                    <Label Text="City" TextColor="#C0ffee" FontFamily="RubikRegular"/>
                    <Entry
                           Text="{Binding Region}"
                           Placeholder="Enter city...."
                           FontFamily="RubikRegular"
                           TextColor="White"
                           PlaceholderColor="Gray"
                           BackgroundColor="#312932"/>

                    <Label Text="Biography" TextColor="#C0ffee" FontFamily="RubikRegular"/>
                    <Editor 
                            Text = "{Binding Biography}"
                            Placeholder="Enter biography...."
                            FontFamily="RubikRegular"
                            BackgroundColor="#312932"
                            TextColor="White"
                            HeightRequest="120"
                            PlaceholderColor="Gray"/>

                    <Label Text="Select your game" TextColor="#C0ffee" FontFamily="RubikRegular"/>
                    <Picker Title="Select a game"
                            FontFamily="RubikRegular"
                            BackgroundColor="#312932"
                            TextColor="White"/>

                    <Label Text="Add new game" TextColor="#C0ffee" FontFamily="RubikRegular"/>
                    <Entry Placeholder="Enter game name...."
                           FontFamily="RubikRegular"
                           BackgroundColor="#312932"
                           TextColor="White"
                           PlaceholderColor="Gray"/>

                    <Button Text="Add new game"
                            FontFamily="RubikRegular"
                            BackgroundColor="#C0ffee"
                            TextColor="Black"
                            CornerRadius="12"/>

                    <!-- OPSLAAN -->
                    <Button 
                            Command="{Binding SaveProfileCommand}"
                            Text="Save profile"
                            FontFamily="RubikRegular"
                            BackgroundColor="#C0ffee"
                            TextColor="Black"
                            CornerRadius="12"
                            HeightRequest="48"/>
                </VerticalStackLayout>
            </ScrollView>
        </Border>
    </Grid>
</ContentPage>
